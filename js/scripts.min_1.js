const template=(e,t)=>{const s=/<%=\s*([a-zA-Z]+)\s*%>/;for(;null!==(result=s.exec(e));){const s=t.find((e=>e.name===result[1]));e=e.replace(result[0],s?s.value:"")}return e};document.querySelectorAll(".subscribe-module").forEach((e=>{const{formId:t}=e.dataset;let s={};window.addEventListener("message",(a=>{if("hsFormCallback"===a.data.type&&a.data.id===t){if("onFormSubmit"===a.data.eventName){s=a.data.data;const t=e.querySelector(".hs-submit .actions");t.classList.add("active"),t.innerHTML=t.innerHTML+'<div class="spinner-container"><svg class="spinner" viewBox="0 0 50 50"><circle class="static" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle><circle class="path" cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle></svg></div>'}if("onFormSubmitted"===a.data.eventName){e.querySelectorAll("[data-post-submission]").forEach((e=>{e.innerHTML=template(e.dataset.postSubmission,s)}));const t=e.querySelector(".subscribe-module__disclaimer a");t&&t.addEventListener("click",(e=>{e.preventDefault(),window.location.reload()}))}}}))}));